:root{
  --bg:#ffffff;
  --bg-soft:#fff5f9;
  --bg-elev:#ffffff;
  --text:#1c1d21;
  --muted:#666a73;
  --rose:#f6c7da;
  --rose-2:#f0a9c4;
  --rose-3:#e685ab;
  --rose-ink:#c0457b;
  --line:#f0e6ec;
  --shadow: 0 10px 30px rgba(240,169,196,.25);
  --radius:20px;
}

*{ box-sizing:border-box }
body{
  margin:0;
  color:var(--text);
  background:linear-gradient(180deg,var(--bg), var(--bg-soft));
  font: 16px/1.5 "Inter", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
}

h1,h2,h3,h4{ margin:0 0 .3rem 0; font-weight:700 }
h1{ font-size: clamp(22px, 3vw, 28px); letter-spacing:.3px }
h3{ font-family:"IBM Plex Serif", ui-serif, Georgia, serif }

.app-header{
  position:sticky; top:0; z-index:10;
  display:flex; align-items:center; justify-content:space-between;
  padding:16px 20px; background:rgba(255,255,255,.85); backdrop-filter:saturate(180%) blur(14px);
  border-bottom:1px solid var(--line);
}
.brand{ display:flex; gap:10px; align-items:center }
.brand .logo{ font-size:22px; color:var(--rose-3) }
.brand .dot{ color:var(--rose-3) }

.actions{ display:flex; align-items:center; gap:12px }
.search input{
  width: min(48vw, 380px);
  padding:10px 12px; border:1px solid var(--line); background:#fff;
  border-radius:999px; outline:none;
}
.btn{
  border:none; border-radius:14px; padding:10px 14px; background:#eee; cursor:pointer; font-weight:600;
  transition: .2s ease; box-shadow:none;
}
.btn:hover{ transform:translateY(-1px) }
.btn.primary{ background: var(--rose-2); color:#fff; box-shadow: var(--shadow) }
.btn.ghost{ background: transparent; border:1px solid var(--line) }
.btn.small{ padding:6px 10px; border-radius:10px; font-size:.9rem }
.btn.danger{ background:#ffe3e8; color:#a2173b; border:1px solid #ffd3dd }

.layout{
  display:grid; grid-template-columns: 260px 1fr;
  gap:22px; padding: 20px; max-width:1200px; margin: 0 auto;
}

.sidebar{ display:flex; flex-direction:column; gap:16px }
.tabs{ display:flex; flex-direction:column; gap:8px; padding:10px; background:#fff; border:1px solid var(--line); border-radius:var(--radius) }
.tab{
  text-align:left; background:#fff; border:1px solid var(--line); border-radius:12px; padding:10px 12px; cursor:pointer;
}
.tab.active, .tab:hover{ border-color: var(--rose-2); background: var(--bg-soft) }

.panel{
  background:#fff; border:1px solid var(--line); border-radius:var(--radius); padding:14px;
}
.panel h3{ margin-bottom:8px }
.filters{ display:flex; flex-direction:column; gap:10px }
select, textarea, input[type="text"], input[type="number"], input[type="url"]{
  width:100%; padding:10px 12px; border-radius:12px; border:1px solid var(--line); background:#fff; outline:none;
}

.sticky{ position:sticky; top:92px }
.quicklist{ list-style:none; padding:0; margin:10px 0 0 0; display:flex; flex-direction:column; gap:6px }
.quicklist .title{ color:var(--rose-ink); font-weight:700; margin-bottom:4px }
.quicklist li.item{ color:var(--muted); }

.board{ min-height:60vh }
.grid{
  display:grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
  gap:16px;
}
.empty{ display:flex; align-items:center; justify-content:center; flex-direction:column; gap:12px; padding:60px; border:2px dashed var(--line); border-radius:var(--radius); background:#fff }
.hidden{ display:none!important }

.card{
  background: var(--bg-elev);
  border:1px solid var(--line);
  border-radius: var(--radius);
  overflow:hidden;
  box-shadow: var(--shadow);
  display:flex; flex-direction:column;
}
.cover{
  height:140px; background: linear-gradient(135deg,#fff, var(--bg-soft));
  background-size:cover; background-position:center;
}
.content{ padding:12px 12px 6px 12px; display:flex; flex-direction:column; gap:8px }
.meta{ display:flex; gap:6px; align-items:center }
.type-pill, .status-pill{
  font-size:.75rem; padding:3px 8px; border-radius:999px; border:1px solid var(--line); color:var(--muted); background:#fff;
}
.status-pill[data-status="current"]{ border-color:var(--rose-3); color:var(--rose-ink); background:#fff4f9 }
.status-pill[data-status="done"]{ border-color:#b5e8b0; color:#216a1d; background:#f2fff0 }
.status-pill[data-status="paused"]{ border-color:#ffe29a; color:#805a00; background:#fff9e9 }
.status-pill[data-status="dropped"]{ border-color:#ffb3c1; color:#8e0e2a; background:#fff1f4 }
.title{ margin-top:2px }
.creator{ margin:0; color:var(--muted); font-size:.9rem; min-height:1.2em }

.progress-row{ display:flex; align-items:center; gap:8px }
.bar{ flex:1; height:8px; background:#f3e9ef; border-radius:999px; overflow:hidden }
.bar span{ display:block; height:100%; width:0%; background: linear-gradient(90deg,var(--rose),var(--rose-3)); border-radius:999px }
.progress-text{ font-size:.85rem; color:var(--muted) }

.rating{ font-size:18px }
.rating .star{ letter-spacing:1px; color: #f0b7cc }
.rating .star.filled{ color:#e06498 }

.notes{ color:var(--muted); font-size:.9rem; margin:2px 0 6px; max-height:3.2em; overflow:hidden; text-overflow:ellipsis }

.card-actions{
  display:flex; gap:8px; padding:8px 10px 12px; margin-top:auto;
}

/* Fenêtre d’édition — clean */
dialog{
  width: min(760px, 92vw);
  height:fit-content;
  max-height: calc(100vh - 120px);
  overflow: auto;                /* scroll seulement si le contenu dépasse l'écran */
  background:#fff;
  border:none;
  border-radius:24px;
  padding:0;
  box-shadow:0 10px 30px rgba(240,169,196,.35);
}
dialog::backdrop{ background:rgba(255,182,204,.25); }
#itemForm{ margin:0; }
.dialog-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:14px 16px; border-bottom:1px solid var(--line); background:var(--bg-soft);
}
.dialog-actions{
  display:flex; gap:8px; justify-content:flex-end;
  padding:12px 16px; border-top:1px solid var(--line); background:var(--bg-soft);
}
.form-grid{
  display:grid; gap:12px; padding:16px;
  grid-template-columns:repeat(2, minmax(0,1fr));
}
.form-grid textarea{ grid-column:1 / -1; }
@media (max-width:640px){ .form-grid{ grid-template-columns:1fr; } }
